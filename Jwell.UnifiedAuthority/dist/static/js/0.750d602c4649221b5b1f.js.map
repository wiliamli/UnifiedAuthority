{"version":3,"sources":["webpack:///./src/script/user/createRole.js","webpack:///./src/components/user/createRole.vue?57eb","webpack:///./src/components/user/createRole.vue","webpack:///./src/script/user/userManage.js","webpack:///./src/components/user/userManage.vue?9229","webpack:///./src/components/user/userManage.vue","webpack:///./src/script/user/user.js","webpack:///./src/views/layout/user.vue?8034","webpack:///./src/views/layout/user.vue"],"names":["createRole","data","_this","this","newRole","RoleName","RoleCode","Remark","defaultData","ServiceNumber","CreatedBy","CreatedTime","ModifiedBy","ModifiedTime","loading","ruleRole","required","validator","rule","value","callback","Error","setTimeout","$publicMethod","chineseOnly","trigger","noSpecialCharacter","methods","handleSubmit","name","_this2","$refs","validate","valid","assign_default","Object","api","then","res","console","log","status","Success","$Message","success","$emit","error","catch","err","handleReset","resetFields","user_createRole","render","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","rules","label-width","label","prop","placeholder","$$v","$set","expression","_v","type","autosize","minRows","maxRows","on","click","$event","staticRenderFns","components_user_createRole","__webpack_require__","normalizeComponent","ssrContext","userManage","userManageColumns","width","align","title","key","h","params","row","_disabled","props","size","dissolveRelationship","EmployeeID","RoleID","userManageData","totalCount","Number","pageIndex","userSearch","signNum","userName","department","userState","saveEmployee","delData","serviceNumber","employeeID","roleId","selectData","employeeList","Array","employAllData","searchTip","employeeId","selectRow","e","pageChange","_this3","x","y","push","getList","IsChecked","_checked","getPage","TotalCount","PageIndex","watch","created","user_userManage","selected","icon","border","stripe","columns","on-selection-change","staticStyle","margin","overflow","float","total","current","on-change","user","serviceData","getEmployeeData","Name","Department","Status","PageSize","Sort","SortDirection","userListColumns","openManageUsers","delRole","userListData","openUserModal","manageUsers","thisRole","largeWidth","getRoleData","Data","getEmployeeDataByRole","typeof_default","Pager","openCreateRole","code","closeModal","_this4","roleCode","components","createModal","manageModal","userManage_normalizeComponent","beforeCreate","$route","sign","layout_user","to","footer-hide","styles","top","slot","_s","_e","getEmployee","reGetList","user_Component","user_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/0.750d602c4649221b5b1f.js","sourcesContent":["import { saveRole } from '@/lib/axios/api';\r\n\r\nexport default {\r\n  data () {\r\n    // 角色中文名验证方法\r\n    const validateCname = (rule, value, callback) => {\r\n        if (value === '') {\r\n            return callback(new Error('请填写角色中文名'));\r\n        }\r\n        //模拟异步验证效果\r\n        setTimeout(() => {\r\n            if (this.$publicMethod.chineseOnly(value)){\r\n                callback(new Error('中文名只能输入中文字符'));\r\n            } else {\r\n                callback()\r\n            }\r\n        }, 500);\r\n    };\r\n    // 角色英文名验证方法\r\n    const validateEname = (rule, value, callback) => {\r\n        if (value === '') {\r\n            return callback(new Error('请填写角色英文名'));\r\n        }\r\n        //模拟异步验证效果\r\n        setTimeout(() => {\r\n            if (this.$publicMethod.noSpecialCharacter(value)){\r\n                callback(new Error('英文名只能输入数字和字母'));\r\n            } else {\r\n                callback()\r\n            }\r\n        }, 500);\r\n    };\r\n    return {\r\n      newRole: {            // 创建角色输入值\r\n          RoleName: '',     // 中文名\r\n          RoleCode: '',     // 英文名\r\n          Remark: ''        // 备注\r\n      },\r\n      defaultData: {        // 默认应传递的数据\r\n        ServiceNumber: '1',                           // 当前账户名\r\n        CreatedBy: 'admin',                           // 其他\r\n        CreatedTime: '2018-09-18T01:45:50.795Z',      // 其他\r\n        ModifiedBy: 'admin',                          // 其他\r\n        ModifiedTime: '2018-09-18T01:45:50.795Z',     // 其他\r\n      },\r\n      loading: false,\r\n      ruleRole: {            // 整个Form的验证规则\r\n          RoleName: [        // 中文名\r\n              { required: true, validator: validateCname, trigger: 'blur' }\r\n          ],\r\n          RoleCode: [        // 英文名\r\n              { required: true, validator: validateEname, trigger: 'blur' }\r\n          ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    // 提交按钮\r\n    handleSubmit (name) {\r\n        this.loading = true;\r\n        this.$refs[name].validate((valid) => {\r\n            if (valid) {\r\n              if(!this.newRole.Remark||this.newRole.Remark===''){  // 备注可不填，手动添加\r\n                this.newRole.Remark = '——'\r\n              };\r\n              Object.assign(this.newRole, this.defaultData);\r\n              saveRole('/Role/Save',this.newRole)\r\n              .then((res) => {\r\n                console.log('成功',res);\r\n                if ((res.status===200)&&res.data.Success) {\r\n                  this.$Message.success('角色创建成功!');\r\n                  this.$emit('reGetList');\r\n                  this.newRole = {};\r\n                  this.$emit('closeModal');\r\n                }else {\r\n                  this.$Message.error('创建角色失败!');\r\n                }\r\n                this.loading = false;\r\n              })\r\n              .catch((err) => {\r\n                console.log('失败',err);\r\n                this.$Message.error('创建角色失败!');\r\n                this.loading = false;\r\n              })\r\n            } else {\r\n              this.$Message.error('请输入正确的信息!');\r\n              this.loading = false\r\n            }\r\n        })\r\n    },\r\n    // 取消按钮\r\n    handleReset (name) {\r\n        // this.newRole = {}; //字段值重置\r\n        this.$refs[name].resetFields(); //移除校验结果\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/script/user/createRole.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"createRoleContainer\"},[_c('Form',{ref:\"newRole\",attrs:{\"model\":_vm.newRole,\"rules\":_vm.ruleRole,\"label-width\":60}},[_c('FormItem',{attrs:{\"label\":\"中文名\",\"prop\":\"RoleName\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入角色中文名\"},model:{value:(_vm.newRole.RoleName),callback:function ($$v) {_vm.$set(_vm.newRole, \"RoleName\", $$v)},expression:\"newRole.RoleName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"英文名\",\"prop\":\"RoleCode\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入角色英文名\"},model:{value:(_vm.newRole.RoleCode),callback:function ($$v) {_vm.$set(_vm.newRole, \"RoleCode\", $$v)},expression:\"newRole.RoleCode\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"备注\",\"prop\":\"Remark\"}},[_c('Input',{staticClass:\"roleText\",attrs:{\"type\":\"textarea\",\"autosize\":{minRows: 2,maxRows: 5},\"placeholder\":\"请对角色添加描述\"},model:{value:(_vm.newRole.Remark),callback:function ($$v) {_vm.$set(_vm.newRole, \"Remark\", $$v)},expression:\"newRole.Remark\"}})],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"roleBtn\"},[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":function($event){_vm.handleSubmit('newRole')}}},[(!_vm.loading)?_c('span',[_vm._v(\"保存\")]):_c('span',[_vm._v(\"加载中...\")])]),_vm._v(\" \"),_c('Button',{staticClass:\"roleCancle\",on:{\"click\":function($event){_vm.handleReset('newRole')}}},[_vm._v(\"重置\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-55635781\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/createRole.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-55635781\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./createRole.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./../../script/user/createRole.js\"\nimport __vue_script__ from \"!!babel-loader!./../../script/user/createRole.js\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-55635781\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./createRole.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-55635781\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/createRole.vue\n// module id = null\n// module chunks = ","import { dissolve,saveEmployeeOfRole } from '@/lib/axios/api';\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      loading: false,\r\n      userManageColumns: [\r\n          {\r\n              type: 'selection',\r\n              width: 60,\r\n              align: 'center'\r\n          },\r\n          {\r\n            title: '序号',\r\n            key: 'Index',\r\n            type: 'index',\r\n            align: 'center',\r\n            width:150\r\n          },\r\n          {\r\n              title: '工号',\r\n              key: 'EmployeeID',\r\n              align: 'center'\r\n          },\r\n          {\r\n              title: '姓名',\r\n              key: 'Name',\r\n              align: 'center'\r\n          },\r\n          {\r\n              title: '部门',\r\n              key: 'Department',\r\n              align: 'center'\r\n          },\r\n          {\r\n              title: '操作',\r\n              key: 'action',\r\n              align: 'center',\r\n              render: (h, params) => {\r\n                  if(!params.row._disabled){\r\n                    return h('div', []);\r\n                  }else {\r\n                    return h('div', [\r\n                        h('Button', {\r\n                            props: {\r\n                                type: 'text',\r\n                                size: 'small'\r\n                            },\r\n                            on: {\r\n                                click: () => {\r\n                                    this.dissolveRelationship(params.row.EmployeeID,params.row.RoleID)\r\n                                }\r\n                            }\r\n                        }, '关系删除')\r\n                    ]);\r\n                  }\r\n              }\r\n          }\r\n      ],\r\n      userManageData: [],\r\n      totalCount: Number,\r\n      pageIndex: Number,\r\n      userSearch: {           // 搜索用户管理列表\r\n          signNum: '',      // 工号\r\n          userName: '',     // 姓名\r\n          department: '',   // 部门\r\n          userState: '',    // 状态\r\n      },\r\n      saveEmployee: [],       // 用户数据保存传参\r\n      delData: {              // 解除关系传参\r\n        serviceNumber:'1',\r\n        employeeID:'',\r\n        roleId:''\r\n      },\r\n      selectData: []          // 选中的数据\r\n    }\r\n  },\r\n  props: {\r\n    employeeList: Array,      // 根据角色获取的员工列表\r\n    employAllData: Object,    // 根据角色获取的员工列表(含页数)\r\n  },\r\n  methods: {\r\n    // 查询按钮\r\n    searchTip () {\r\n        this.$emit('getEmployee',this.userSearch)\r\n    },\r\n    // 角色与员工关系删除\r\n    dissolveRelationship (employeeId,roleId) {\r\n      this.delData.employeeID = employeeId,\r\n      this.delData.roleId = roleId,\r\n      dissolve('/Role/DeleteEmployeeRoleRelation',this.delData)\r\n      .then((res) => {\r\n        console.log('成功',res);\r\n        if((res.status === 200)&&res.data.Success){\r\n          this.$Message.success('员工关系解除成功！');\r\n          this.$emit('getEmployee')\r\n        }else {\r\n          this.$Message.error('员工关系解除失败！');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log('失败',err);\r\n        this.$Message.error('员工关系解除失败！');\r\n      })\r\n    },\r\n    // 多选框change\r\n    selectRow (e) {\r\n      this.selectData = e;\r\n    },\r\n    // 页码改变\r\n    pageChange (e) {\r\n      this.$emit('getEmployee',e)\r\n    },\r\n    // 保存按钮\r\n    handleSubmit () {\r\n        for(let x in this.selectData){\r\n          let y = {\r\n            \"ServiceNumber\": \"1\",\r\n            \"EmployeeID\": this.selectData[x].EmployeeID,\r\n            \"RoleID\": this.selectData[x].RoleID,\r\n            \"CreatedBy\": \"string\",\r\n            \"CreatedTime\": \"2018-10-08T01:17:00.076Z\",\r\n            \"ModifiedBy\": \"string\",\r\n            \"ModifiedTime\": \"2018-10-08T01:17:00.076Z\"\r\n          }\r\n          this.saveEmployee.push(y)\r\n        }\r\n        // console.log(this.saveEmployee)\r\n        saveEmployeeOfRole ('/Role/SaveEmployeeRole',this.saveEmployee)\r\n        .then((res) => {\r\n          console.log('成功',res);\r\n          if ((res.status===200)&&res.data.Success) {\r\n            this.$Message.success('关系保存成功!');\r\n            this.$emit('closeModal');\r\n          }else {\r\n            this.$Message.error('关系保存失败!');\r\n          }\r\n          this.loading = false;\r\n        })\r\n        .catch((err) => {\r\n          console.log('失败',err);\r\n          this.$Message.error('关系保存失败!');\r\n          this.loading = false;\r\n        })\r\n    },\r\n    // 取消按钮\r\n    handleReset () {\r\n        console.log(\"取消\");\r\n        this.$emit('closeModal');\r\n    },\r\n    // 获取的列表数据处理\r\n    getList () {\r\n      this.userManageData = this.employeeList;\r\n      for(let x in this.userManageData){\r\n        if(this.userManageData[x].IsChecked){\r\n          this.userManageData[x]._disabled = true,\r\n          this.userManageData[x]._checked = true\r\n        }\r\n      }\r\n    },\r\n    // 处理页数据\r\n    getPage () {\r\n      this.totalCount = this.employAllData.TotalCount;\r\n      this.pageIndex = this.employAllData.PageIndex;\r\n    }\r\n  },\r\n  watch: {\r\n    employeeList () {\r\n      this.getList ();\r\n      this.getPage ();\r\n    }\r\n  },\r\n  created: function(){\r\n    this.getList ();\r\n    this.getPage ();\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/script/user/userManage.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userManageContainer\"},[_c('Form',{staticClass:\"userSearch\",attrs:{\"model\":_vm.userSearch,\"label-width\":40}},[_c('FormItem',{attrs:{\"label\":\"工号\"}},[_c('Input',{model:{value:(_vm.userSearch.signNum),callback:function ($$v) {_vm.$set(_vm.userSearch, \"signNum\", $$v)},expression:\"userSearch.signNum\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"姓名\"}},[_c('Input',{model:{value:(_vm.userSearch.userName),callback:function ($$v) {_vm.$set(_vm.userSearch, \"userName\", $$v)},expression:\"userSearch.userName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"部门\"}},[_c('Input',{model:{value:(_vm.userSearch.department),callback:function ($$v) {_vm.$set(_vm.userSearch, \"department\", $$v)},expression:\"userSearch.department\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"状态\"}},[_c('Select',{model:{value:(_vm.userSearch.userState),callback:function ($$v) {_vm.$set(_vm.userSearch, \"userState\", $$v)},expression:\"userSearch.userState\"}},[_c('Option',{attrs:{\"value\":\"0\",\"selected\":\"\"}},[_vm._v(\"0\")]),_vm._v(\" \"),_c('Option',{attrs:{\"value\":\"1\"}},[_vm._v(\"1\")])],1)],1),_vm._v(\" \"),_c('FormItem',{staticClass:\"userSearchBtn\"},[_c('Button',{attrs:{\"icon\":\"ios-search\"},on:{\"click\":_vm.searchTip}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"userManageTable\"},[_c('Table',{ref:\"selection\",staticClass:\"userTableMain\",attrs:{\"border\":\"\",\"stripe\":\"\",\"columns\":_vm.userManageColumns,\"data\":_vm.userManageData,\"size\":\"small\"},on:{\"on-selection-change\":_vm.selectRow}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":_vm.totalCount,\"current\":_vm.pageIndex},on:{\"on-change\":_vm.pageChange}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"userBtn\"},[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.handleSubmit}},[(!_vm.loading)?_c('span',[_vm._v(\"保存\")]):_c('span',[_vm._v(\"加载中...\")])]),_vm._v(\" \"),_c('Button',{on:{\"click\":_vm.handleReset}},[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2450cd65\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/user/userManage.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2450cd65\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./userManage.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./../../script/user/userManage.js\"\nimport __vue_script__ from \"!!babel-loader!./../../script/user/userManage.js\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2450cd65\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./userManage.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2450cd65\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/userManage.vue\n// module id = null\n// module chunks = ","import CreateModal from '@/components/user/createRole';\r\nimport ManageModal from '@/components/user/userManage';\r\n\r\nimport { userList,delRole,getEmployeeByRole } from '@/lib/axios/api';\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      serviceData: {          // 服务号，点击从上一级获取\r\n        serviceNumber: '1'\r\n      },\r\n      getEmployeeData: {      // 获取当前角色下员工关系列表传参\r\n        ServiceNumber: \"1\",\r\n        RoleCode: \"\",\r\n        EmployeeID: \"\",\r\n        Name: \"\",\r\n        Department: \"\",\r\n        Status: 0,\r\n        PageIndex: 1,\r\n        PageSize: 10,\r\n        Sort: \"id\",\r\n        SortDirection: 0\r\n      },\r\n      userListColumns: [      // 列表行\r\n          {\r\n              title: '序号',\r\n              key: 'Index',\r\n              type: 'index',\r\n              align: 'center',\r\n              width:150\r\n          },\r\n          {\r\n              title: '角色名称',\r\n              key: 'RoleName',\r\n              align: 'center'\r\n          },\r\n          {\r\n              title: '备注',\r\n              key: 'Remark',\r\n              align: 'center'\r\n          },\r\n          {\r\n              title: '操作',\r\n              key: 'action',\r\n              align: 'center',\r\n              render: (h, params) => {\r\n                return h('div', [\r\n                    h('Button', {\r\n                        props: {\r\n                            type: 'text',\r\n                            size: 'small'\r\n                        },\r\n                        on: {\r\n                            click: () => {\r\n                                this.openManageUsers(params.row.RoleName,params.row.RoleCode)\r\n                            }\r\n                        }\r\n                    }, '管理用户'),\r\n                    h('Button', {\r\n                        props: {\r\n                            type: 'text',\r\n                            size: 'small'\r\n                        },\r\n                        on: {\r\n                            click: () => {\r\n                                this.delRole(params.row)\r\n                            }\r\n                        }\r\n                    }, '删除角色')\r\n                ])\r\n              }\r\n          }\r\n      ],\r\n      userListData: [],       // 列表数据\r\n      employeeList: [],       // 根据角色获取的员工列表\r\n      openUserModal: false,   // 打开模态框\r\n      manageUsers: false,     // 打开管理用户模态框，展示自定义头部\r\n      thisRole:'',            // 正在操作的角色名字\r\n      largeWidth: 40,\r\n      employAllData: null,    // 根据角色获取的员工数据(包含页数)\r\n    }\r\n  },\r\n  methods: {\r\n    getRoleData () {                // 获取当前角色列表\r\n      userList('/Role/GetEmployeeRoles',this.serviceData)\r\n      .then((res) => {\r\n        console.log('成功',res);\r\n        if ((res.status === 200)&&res.data.Success) {\r\n          // this.userListData = res.data.Data.reverse()\r\n          this.userListData = res.data.Data\r\n        } else {\r\n          this.$Message.error('获取角色列表失败，请再试！');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log('失败',err);\r\n        this.$Message.error('获取角色列表失败，请再试！');\r\n      })\r\n    },\r\n    getEmployeeDataByRole (data) {        // 根据角色获取员工关系\r\n      if(!data){\r\n        this.getEmployeeData.Department = '';\r\n        this.getEmployeeData.Name = '';\r\n        this.getEmployeeData.Status = '';\r\n        getEmployeeByRole('/EmployeeInfo/GetEmployeeInfoWithRole',this.getEmployeeData)\r\n        .then((res) => {\r\n          console.log('成功',res);\r\n          if ((res.status === 200)&&res.data.Success) {\r\n            this.employeeList = res.data.Data.Pager;\r\n            this.employAllData = res.data.Data;\r\n            this.manageUsers = true;\r\n            this.largeWidth = 80;\r\n            this.openUserModal = true;\r\n          } else {\r\n            this.$Message.error('未成功获取此角色下员工关系，请再试！');\r\n          }\r\n        })\r\n        .catch((err,data) => {\r\n          console.log('失败',err);\r\n          this.$Message.error('未成功获取此角色下员工关系，请再试！');\r\n        });\r\n      }else {\r\n        if(typeof(data) === 'object'){\r\n          this.getEmployeeData.EmployeeID = data.signNum;\r\n          this.getEmployeeData.Department = data.department;\r\n          this.getEmployeeData.Name = data.userName;\r\n          this.getEmployeeData.Status = data.userState;\r\n        }else {\r\n          this.getEmployeeData.PageIndex = data;\r\n        };\r\n        // console.log(this.getEmployeeData)\r\n        getEmployeeByRole('/EmployeeInfo/GetEmployeeInfoWithRole',this.getEmployeeData)\r\n        .then((res) => {\r\n          console.log('成功',res);\r\n          if ((res.status === 200)&&res.data.Success) {\r\n            this.employeeList = res.data.Data.Pager;\r\n            this.employAllData = res.data.Data;\r\n          } else {\r\n            this.$Message.error('请重试！');\r\n          }\r\n        })\r\n        .catch((err,data) => {\r\n          console.log('失败',err);\r\n          this.$Message.error('请重试！');\r\n        });\r\n      }\r\n    },\r\n    openCreateRole () {                   // 打开创建角色对话框\r\n      this.manageUsers = false;\r\n      this.largeWidth = 40;\r\n      this.openUserModal = true\r\n    },\r\n    openManageUsers (name,code) {         // 打开某一角色下管理用户对话框\r\n      this.thisRole = name;\r\n      this.getEmployeeData.RoleCode = code;\r\n      // this.getEmployeeData.Name = name;\r\n      this.getEmployeeDataByRole();\r\n    },\r\n    closeModal () {                       // 关闭两级模态框\r\n      this.openUserModal = false,\r\n      this.manageUsers = false;\r\n      this.largeWidth = 40;\r\n    },\r\n    delRole (data) {                      // 删除角色\r\n      console.log(data);\r\n      let delData = {\r\n        serviceNumber:data.ServiceNumber,\r\n        roleCode:data.RoleCode\r\n      };\r\n      delRole('/Role/DeleteRole',delData)\r\n      .then((res) => {\r\n        console.log('成功',res);\r\n        if((res.status === 200)&&res.data.Success){\r\n          this.$Message.success('删除角色成功');\r\n          this.getRoleData ()\r\n        } else {\r\n          this.$Message.error('删除角色失败，请再试！')\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log('失败',err);\r\n        this.$Message.error('删除角色失败，请再试！')\r\n      })\r\n    }\r\n  },\r\n  components: {\r\n    createModal: CreateModal,             // 创建角色弹窗\r\n    manageModal: ManageModal,             // 根据角色获取展示员工关系弹窗\r\n  },\r\n  beforeCreate: function () {\r\n    console.log(this.$route.params.sign); // 用于获取路由带参\r\n  },\r\n  created: function(){\r\n    this.getRoleData ()\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/script/user/user.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"userContainer\"},[_c('header',[_c('Breadcrumb',{staticClass:\"menuBread\"},[_c('BreadcrumbItem',{attrs:{\"to\":\"/\"}},[_c('Icon',{attrs:{\"type\":\"ios-home\"}}),_vm._v(\" 系统首页\\n        \")],1),_vm._v(\" \"),_c('BreadcrumbItem',[_c('Icon',{attrs:{\"type\":\"ios-contacts\"}}),_vm._v(\" 用户管理\\n        \")],1)],1),_vm._v(\" \"),_c('Button',{attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":_vm.openCreateRole}},[_vm._v(\"创建角色\")])],1),_vm._v(\" \"),_c('Table',{staticClass:\"userTable\",attrs:{\"border\":\"\",\"stripe\":\"\",\"columns\":_vm.userListColumns,\"data\":_vm.userListData}}),_vm._v(\" \"),_c('div',{staticStyle:{\"margin\":\"10px\",\"overflow\":\"hidden\"}},[_c('div',{staticStyle:{\"float\":\"right\"}},[_c('Page',{attrs:{\"total\":100,\"current\":1}})],1)]),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"创建角色\",\"footer-hide\":\"\",\"styles\":{top: '15px'},\"width\":_vm.largeWidth},model:{value:(_vm.openUserModal),callback:function ($$v) {_vm.openUserModal=$$v},expression:\"openUserModal\"}},[(_vm.manageUsers)?_c('div',{attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Breadcrumb',{staticClass:\"menuBread\"},[_c('BreadcrumbItem',[_c('Icon',{attrs:{\"type\":\"ios-contact\"}}),_vm._v(\" \"+_vm._s(_vm.thisRole)+\"\\n            \")],1),_vm._v(\" \"),_c('BreadcrumbItem',[_c('Icon',{attrs:{\"type\":\"ios-contacts\"}}),_vm._v(\" 管理用户\\n            \")],1)],1)],1):_vm._e(),_vm._v(\" \"),(_vm.manageUsers)?_c('manageModal',{attrs:{\"employeeList\":_vm.employeeList,\"employAllData\":_vm.employAllData},on:{\"closeModal\":_vm.closeModal,\"getEmployee\":_vm.getEmployeeDataByRole}}):_c('createModal',{on:{\"closeModal\":_vm.closeModal,\"reGetList\":_vm.getRoleData}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ff126f56\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/layout/user.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ff126f56\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./user.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!./../../script/user/user.js\"\nimport __vue_script__ from \"!!babel-loader!./../../script/user/user.js\"/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ff126f56\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./user.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-ff126f56\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/layout/user.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}